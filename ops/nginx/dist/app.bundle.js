webpackJsonp([0],{0:function(e,exports,t){t(1),e.exports=t(298)},298:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var r=t(299),i=n(r),a=t(301),o=n(a),l=t(302),s=n(l),u=t(304),d=n(u),c=t(305),f=n(c),m=t(306),p=n(m),v=t(327),h=n(v),g=t(328),y=n(g),b=t(329),_=n(b),j=t(330),k=n(j),M=t(333),x=n(M),S=t(334),w=n(S),T=t(352),P=n(T),L=t(650),F=n(L),I=t(654),A=n(I);t(660),i["default"].module("app",[d["default"],s["default"],A["default"],f["default"],o["default"].name,w["default"].name,P["default"].name]).factory({TokenInterceptor:h["default"]}).factory({SessionRecoverer:y["default"]}).service({VideoService:_["default"]}).service({PlayListService:k["default"]}).service({Auth:p["default"]}).service({starService:x["default"]}).config(["ENV","$locationProvider","$mdThemingProvider","$httpProvider","$authProvider",function(e,t,n,r,i){"ngInject";t.html5Mode(!0).hashPrefix("!"),n.theme("default").primaryPalette("indigo",{"default":"500"}).accentPalette("pink",{"default":"500"}),i.google({clientId:e.GOOGLE.CLIENT_ID,url:e.API_HOST+"/auth/google"})}]).component("app",F["default"])},301:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(299),i=n(r),a=i["default"].module("app.config",[]).constant("ENV",{GOOGLE:{CLIENT_ID:"726385581494-3te31aa3t09polsm5paeg4eeh9qgbcgl.apps.googleusercontent.com",SCOPE:"https://www.googleapis.com/auth/userinfo.email"},API_HOST:"http://52.174.41.219",API_URL:"http://52.174.41.219/api/v0.1"});exports["default"]=a},306:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(307),i=n(r),a=t(308),o=n(a),l=function(){function e(t,n,r){"ngInject";(0,i["default"])(this,e),this.$auth=t,this.$state=r,this.$rootScope=n,this._stateLogin="loginPage",this._stateAfterLogout="home",this._stateChangeBypass=!1,this.$rootScope.$on("$stateChangeStart",this.stateChange.bind(this))}return e.$inject=["$auth","$rootScope","$state"],(0,o["default"])(e,[{key:"authenticate",value:function(e,t){var n=this,r=this.$auth.authenticate(e,t);return r.then(function(e){n.$rootScope.$emit("user:login",e)}),r}},{key:"isAuthenticated",value:function(){return this.$auth.isAuthenticated()}},{key:"logout",value:function(){var e=this;this.$auth.logout().then(function(){var t=e.$state.current;t.data&&t.data.access&&t.data.access.requiredLogin&&e.$state.go(e._stateAfterLogout),e.$rootScope.$emit("user:logout")})}},{key:"onLogin",value:function(e){return this.$rootScope.$on("user:login",e)}},{key:"onLogout",value:function(e){return this.$rootScope.$on("user:logout",e)}},{key:"stateChange",value:function(e,t,n,r,i,a){return!this._stateChangeBypass&&t.data&&t.data.access&&t.data.access.requiredLogin?(e.preventDefault(),void(this.isAuthenticated()?(this._stateChangeBypass=!0,this.$state.go(t,n)):this.$state.go(this._stateLogin))):void(this._stateChangeBypass=!1)}}]),e}();exports["default"]=l},327:function(e,exports){"use strict";function t(e,t){"ngInject";return{request:function(n){return n.headers=n.headers||{},t.sessionStorage.id_token&&(n.headers.Authorization="JWT "+t.sessionStorage.id_token),n||e.when(n)},response:function(t){return t||e.when(t)}}}t.$inject=["$q","$window"],Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=t},328:function(e,exports){"use strict";function t(e,t,n){"ngInject";return{responseError:function(r){if(401==r.status&&gapi&&gapi.auth2.getAuthInstance().currentUser.get().isSignedIn()){var i=n.get("$http");return t.sessionStorage.id_token=gapi.auth2.getAuthInstance().currentUser.get().getAuthResponse().id_token,i(r.config)}return e.reject(r)}}}t.$inject=["$q","$window","$injector"],Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=t},329:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(307),i=n(r),a=t(308),o=n(a),l=function(){function e(t,n,r){"ngInject";(0,i["default"])(this,e),this.$resource=t,this.dashJSrv=r,this.Video=t(n.API_URL+"/video/:id",{id:"@id"}),this.Stream=t(n.API_URL+"/media/:id",{id:"@id"}),this.list=[],this.currentVideoId="",this.$resource=t,this.ENV=n}return e.$inject=["$resource","ENV","dashJS"],(0,o["default"])(e,[{key:"getStream",value:function(e){return this.Stream.get({id:e}).$promise}},{key:"playVideo",value:function(e){var t=this;this.currentVideoId=e,this.getStream(e).then(function(e){t.dashJSrv.init(e.url,!0)})}},{key:"getVideoMetadata",value:function(e){return this.$resource(this.ENV.API_URL+"/videometadata").query({videoId:e}).$promise}},{key:"getVideo",value:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];return this.$resource(this.ENV.API_URL+"/video").query(e).$promise}}]),e}();exports["default"]=l},330:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(307),i=n(r),a=t(308),o=n(a),l=t(331),s=n(l),u=function(){function e(){(0,i["default"])(this,e),this.list={}}return(0,o["default"])(e,[{key:"add",value:function(e){this.isAdded(e)||(this.list[e.id]=e)}},{key:"remove",value:function(e){this.isAdded(e)&&delete this.list[e.id]}},{key:"isAdded",value:function(e){return!s["default"].isUndefined(this.list[e.id])}},{key:"count",value:function(){return s["default"].size(this.list)}}]),e}();exports["default"]=u},333:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(307),i=n(r),a=t(308),o=n(a),l=t(331),s=n(l),u=function(){function e(){(0,i["default"])(this,e),this.list={}}return(0,o["default"])(e,[{key:"add",value:function(e){this.isAdded(e)||(this.list[e.id]=e)}},{key:"remove",value:function(e){this.isAdded(e)&&delete this.list[e.id]}},{key:"isAdded",value:function(e){return!s["default"].isUndefined(this.list[e.id])}}]),e}();exports["default"]=u},334:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(299),i=n(r),a=t(335),o=n(a),l=t(343),s=n(l),u=t(351),d=n(u),c=i["default"].module("app.common",[o["default"].name,s["default"].name]).factory({safeApply:d["default"]});exports["default"]=c},335:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(299),i=n(r),a=t(304),o=n(a),l=t(336),s=n(l),u=i["default"].module("navbar",[o["default"]]).component("navbar",s["default"]);exports["default"]=u},336:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(337),i=n(r),a=t(338),o=n(a);t(339);var l={restrict:"E",bindings:{},template:i["default"],controller:o["default"],controllerAs:"vm"};exports["default"]=l},337:function(e,exports){e.exports='<md-toolbar class="md-toolbar-slim">\r\n  <div class="md-toolbar-tools">\r\n    <md-menu>\r\n      <md-button class="md-icon-button"\r\n                 aria-label="Left panel"\r\n                 ng-click="vm.openMenu($mdOpenMenu, $event)">\r\n        <md-icon class="material-icons">menu</md-icon>\r\n      </md-button>\r\n\r\n      <md-menu-content width="4">\r\n        <!--<md-menu-item>\r\n          <md-button ng-click="vm.map.polygon.toggle()">\r\n            <md-icon class="material-icon">timeline</md-icon>\r\n            <span ng-if="!vm.map.polygon.enabled">Start polygon tool</span>\r\n            <span ng-if="vm.map.polygon.enabled">Stop polygon tool</span>\r\n          </md-button>\r\n        </md-menu-item>-->\r\n\r\n        <!--<md-menu-item>\r\n          <md-button ng-click="vm.map.searchByPolygon()">\r\n            <md-icon class="material-icon">terrain</md-icon>\r\n            <span>Search by Polygon</span>\r\n          </md-button>\r\n        </md-menu-item>-->\r\n\r\n        <!--<md-menu-item>\r\n          <md-button ng-click="vm.map.setStreamSamples()">\r\n            <md-icon class="material-icon">view_stream</md-icon>\r\n            <span>Set stream samples</span>\r\n          </md-button>\r\n        </md-menu-item>-->\r\n\r\n        <md-menu-item>\r\n          <md-button ng-click="vm.map.heat.drawToggle()">\r\n            <md-icon class="material-icon">add_location</md-icon>\r\n            <span ng-if="!vm.map.heat.enabled">Start drawing HeatMap</span>\r\n            <span ng-if="vm.map.heat.enabled">Stop drawing HeatMap</span>\r\n          </md-button>\r\n        </md-menu-item>\r\n\r\n        <!--<md-menu-item>\r\n          <md-button ng-click="vm.map.circle.toggle()">\r\n            <md-icon class="material-icon">data_usage</md-icon>\r\n            <span ng-if="!vm.map.circle.enabled">Start adding circles</span>\r\n            <span ng-if="vm.map.circle.enabled">Stop adding circles</span>\r\n          </md-button>\r\n        </md-menu-item>-->\r\n\r\n      </md-menu-content>\r\n\r\n    </md-menu>\r\n\r\n\r\n    <md-button ui-sref="home">Home</md-button>\r\n    <md-button ui-sref="map">Map</md-button>\r\n    <span flex></span>\r\n    <div class="login-block"><user-login></user-login></div>\r\n  </div>\r\n</md-toolbar>\r\n'},338:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(307),i=n(r),a=t(308),o=n(a),l=function(){function e(t,n,r){"ngInject";(0,i["default"])(this,e),this.map=n,this.$mdSidenav=t,this.videoSrv=r}return e.$inject=["$mdSidenav","MapService","VideoService"],(0,o["default"])(e,[{key:"openMenu",value:function(e,t){e(t)}}]),e}();exports["default"]=l},339:function(e,exports,t){var n=t(340);"string"==typeof n&&(n=[[e.id,n,""]]);t(342)(n,{});n.locals&&(e.exports=n.locals)},340:function(e,exports,t){exports=e.exports=t(341)(),exports.push([e.id,"@import url(http://fonts.googleapis.com/css?family=Roboto);",""]),exports.push([e.id,"body{height:100%;font:62.5% Roboto,sans-serif}body .mt30{margin-top:30px!important}body .mt10{margin-top:10px!important}.navbar{color:#fff;background-color:#0277bd;padding:1rem;overflow:hidden}.navbar .login-block{float:right}.navbar a{color:#f5f5f5;text-decoration:none}.navbar .nav-links{margin:0;padding:0;float:left}.navbar .nav-links li{float:left;display:inline;margin-right:15px}.navbar .logged-name,.navbar a{font-size:1.5rem}.navbar .logged-name{font-style:italic;margin-right:10px}",""])},343:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(299),i=n(r),a=t(344),o=n(a),l=t(345),s=n(l),u=i["default"].module("user",[]).service("User",o["default"]).component("userLogin",s["default"]);exports["default"]=u},344:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(307),i=n(r),a=t(308),o=n(a),l=function(){function e(){"ngInject";(0,i["default"])(this,e)}return(0,o["default"])(e,[{key:"getEmail",value:function(){}},{key:"getName",value:function(){}},{key:"getId",value:function(){}}]),e}();exports["default"]=l},345:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(346),i=n(r),a=t(347),o=n(a);t(348);var l={restrict:"E",bindings:{},template:i["default"],controller:o["default"],controllerAs:"vm"};exports["default"]=l},346:function(e,exports){e.exports='<div layout="row">\r\n  <div flex="none">\r\n    <md-button ng-if="!vm.auth.isAuthenticated()" class="md-accent" ng-click="vm.auth.authenticate(\'google\')">Sign In</md-button>\r\n    <md-button ng-if="vm.auth.isAuthenticated()" class="md-accent" ng-click="vm.auth.logout()">Logout</md-button>\r\n  </div>\r\n\r\n  <!--<div flex="none" class="gSignInWrapper">\r\n    <div ng-show="!vm.user.isSignedIn" class="customGPlusSignIn customGglBtn">\r\n      <span class="icon"></span>\r\n      <span class="buttonText">Google Sign-In</span>\r\n    </div>\r\n\r\n    <div ng-show="vm.user.isSignedIn">\r\n      <span class="logged-name">{{vm.user.getName()}}</span>\r\n      <a href="" ng-click="vm.user.logout()" id="logout">logout</a>\r\n    </div>\r\n  </div>-->\r\n</div>\r\n\r\n'},347:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(307),i=n(r),a=function o(e){"ngInject";(0,i["default"])(this,o),this.auth=e};a.$inject=["Auth"],exports["default"]=a},348:function(e,exports,t){var n=t(349);"string"==typeof n&&(n=[[e.id,n,""]]);t(342)(n,{});n.locals&&(e.exports=n.locals)},349:function(e,exports,t){exports=e.exports=t(341)(),exports.push([e.id,".customGglBtn{display:inline-block;background:#fff;color:#444;border:thin solid #888;box-shadow:1px 1px 1px gray;white-space:nowrap}.customGglBtn:hover{cursor:pointer}span.label{font-family:serif;font-weight:400}span.icon{background:url("+t(350)+") transparent 5px 50% no-repeat;width:30px;height:25px}span.buttonText,span.icon{display:inline-block;vertical-align:middle}span.buttonText{padding-left:5px;padding-right:20px;font-size:14px;font-weight:700;font-family:Roboto,sans-serif}",""])},350:function(e,exports,t){e.exports=t.p+"assets/client/app/common/user/img/g-normal.1344fd.png"},351:function(e,exports){"use strict";function t(e){"ngInject";return function(t){var n=e.$root.$$phase;"$apply"==n||"$digest"==n?t&&e.$eval(t):t?e.$apply(t):e.$apply()}}t.$inject=["$rootScope"],Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=t},352:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(299),i=n(r),a=t(353),o=n(a),l=t(359),s=n(l),u=t(365),d=n(u),c=t(395),f=n(c),m=t(504),p=n(m),v=t(539),h=n(v),g=t(545),y=n(g),b=t(551),_=n(b),j=t(638),k=n(j),M=t(644),x=n(M),S=i["default"].module("app.components",[o["default"].name,_["default"].name,s["default"].name,d["default"].name,f["default"].name,p["default"].name,y["default"].name,k["default"].name,h["default"].name,x["default"].name]);exports["default"]=S},353:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(299),i=n(r),a=t(304),o=n(a),l=t(354),s=n(l),u=i["default"].module("home",[o["default"]]).config(["$stateProvider","$urlRouterProvider",function(e,t){"ngInject";t.otherwise("/"),e.state("home",{url:"/",template:"<home></home>"})}]).component("home",s["default"]);exports["default"]=u},354:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(355),i=n(r),a=t(356),o=n(a);t(357);var l={restrict:"E",bindings:{},template:i["default"],controller:o["default"],controllerAs:"vm"};exports["default"]=l},355:function(e,exports){e.exports='<div layout="column" layout-fill>\r\n  <navbar flex="none"></navbar>\r\n\r\n  <div flex="auto" layout="column" layout-align="center center">\r\n    <h1>Welcome to Replay project!</h1>\r\n    <md-button class="md-primary md-raised md-hue-2" ui-sref="map">checkout  map</md-button>\r\n  </div>\r\n</div>\r\n'},356:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(307),i=n(r),a=function o(){(0,i["default"])(this,o),this.name="home"};exports["default"]=a},357:function(e,exports,t){var n=t(358);"string"==typeof n&&(n=[[e.id,n,""]]);t(342)(n,{});n.locals&&(e.exports=n.locals)},358:function(e,exports,t){exports=e.exports=t(341)(),exports.push([e.id,".home{color:red}",""])},359:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(299),i=n(r),a=t(304),o=n(a),l=t(360),s=n(l),u=i["default"].module("maplayout",[o["default"]]).config(["$stateProvider",function(e){"ngInject";e.state("map",{url:"/map",data:{access:{requiredLogin:!0}},template:"<maplayout></maplayout>"})}]).component("maplayout",s["default"]);exports["default"]=u},360:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(361),i=n(r),a=t(362),o=n(a);t(363);var l={restrict:"E",bindings:{},template:i["default"],controller:o["default"],controllerAs:"vm"};exports["default"]=l},361:function(e,exports){e.exports='<div class="map-layout" layout="row" layout-fill>\r\n\r\n  <md-sidenav layout="column" layout-fill\r\n              class="md-sidenav-left md-whiteframe-z2"\r\n              md-component-id="left"\r\n              md-is-locked-open="$mdMedia(\'gt-sm\')">\r\n    <md-content flex>\r\n      <md-tabs md-dynamic-height md-border-bottom class="md-primary md-hue-1">\r\n        <md-tab label="search">\r\n          <md-content class="">\r\n            <filter-form flex="none"></filter-form>\r\n            <filter-result flex="none"></filter-result>\r\n          </md-content>\r\n        </md-tab>\r\n        <md-tab label="playlist">\r\n          <md-content class="">\r\n            <play-list></play-list>\r\n          </md-content>\r\n        </md-tab>\r\n      </md-tabs>\r\n    </md-content>\r\n\r\n\r\n  </md-sidenav>\r\n\r\n\r\n  <div layout="column" flex="auto">\r\n    <navbar flex="none"></navbar>\r\n\r\n    <div class="viewport" flex="auto">\r\n      <map></map>\r\n      <player></player>\r\n    </div>\r\n  </div>\r\n\r\n</div>\r\n'},362:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(307),i=n(r),a=function o(){(0,i["default"])(this,o),this.name="maplayout"};exports["default"]=a},363:function(e,exports,t){var n=t(364);"string"==typeof n&&(n=[[e.id,n,""]]);t(342)(n,{});n.locals&&(e.exports=n.locals)},364:function(e,exports,t){exports=e.exports=t(341)(),exports.push([e.id,".map-layout .viewport{background-color:#eaffeb;position:relative}",""])},365:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(299),i=n(r),a=t(304),o=n(a),l=t(366);n(l);t(367);var s=t(371),u=(n(s),t(372)),d=(n(u),t(377));n(d);t(378);var c=t(380),f=n(c),m=t(385),p=n(m),v=t(394),h=n(v),g=i["default"].module("map",[o["default"]]).service({MapService:p["default"]}).service({TrackService:h["default"]}).component("map",f["default"]);exports["default"]=g},380:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(381),i=n(r),a=t(382),o=n(a);t(383);var l={restrict:"E",bindings:{},template:i["default"],controller:o["default"],controllerAs:"vm"};exports["default"]=l},381:function(e,exports){e.exports='<div id="map-main"></div>\r\n'},382:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(307),i=n(r),a=t(308),o=n(a),l=function(){function e(t,n,r){"ngInject";(0,i["default"])(this,e),this.$timeout=t,this.mapSrv=n,this.TrackSrv=r}return e.$inject=["$timeout","MapService","TrackService"],(0,o["default"])(e,[{key:"$onInit",value:function(){var e=this;this.$timeout(function(){e.mapSrv.init(),e.TrackSrv.init()})}}]),e}();exports["default"]=l},383:function(e,exports,t){var n=t(384);"string"==typeof n&&(n=[[e.id,n,""]]);t(342)(n,{});n.locals&&(e.exports=n.locals)},384:function(e,exports,t){exports=e.exports=t(341)(),exports.push([e.id,"#map-main{position:absolute;left:0;right:0;top:0;bottom:0}#map-main .info{padding:6px 8px;font:14px/16px Arial,Helvetica,sans-serif;background:#fff;background:hsla(0,0%,100%,.8);box-shadow:0 0 15px rgba(0,0,0,.2);border-radius:5px}#map-main .info h4{margin:0 0 5px;color:#777}",""])},385:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(386),i=n(r),a=t(307),o=n(a),l=t(308),s=n(l),u=t(388),d=n(u),c=t(390),f=n(c),m=t(391),p=n(m),v=t(393),h=n(v),g=t(331),y=n(g),b=function(){function e(t,n,r){"ngInject";(0,o["default"])(this,e),this.mapId="map-main",this.startPoint=[32.08088,34.78057],this.zoom=13,this.$mdDialog=t,this.videoSrv=n,this.filterFormSrv=r,this._movingGroup=new L.FeatureGroup,this._boundingGroup=new L.FeatureGroup,this.geojson=null,this._mbUrl="https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token=pk.eyJ1IjoibWFwYm94IiwiYSI6ImNpandmbXliNDBjZWd2M2x6bDk3c2ZtOTkifQ._QA7i5Mpkd_m30IGElHziw"}return e.$inject=["$mdDialog","VideoService","FilterFormService"],(0,s["default"])(e,[{key:"init",value:function(){var e,t,n,r;e=L.tileLayer(this._mbUrl,{id:"mapbox.light",attribution:"Replay"}),t=L.tileLayer(this._mbUrl,{id:"mapbox.streets",attribution:"Replay"}),this.map=L.map(this.mapId,{center:this.startPoint,zoom:this.zoom,layers:[t,this._movingGroup,this._boundingGroup]}),n={Grayscale:e,Streets:t},r={"Bounding shape":this._boundingGroup},this.ctrlInfo=L.control(),this.ctrlInfo.onAdd=function(e){return this._div=L.DomUtil.create("div","info"),this.update(),this._div},this.ctrlInfo.update=function(e){this._div.innerHTML="<h4>Search details</h4>"+(e?"<b>Name: </b><br /><b>ID: </b>"+e._id:"Do some search then hover on result")},this.ctrlInfo.addTo(this.map),L.control.layers(n,r).addTo(this.map),this.heat=new d["default"](this.map,this.$mdDialog),this.drawSearchSrv=new h["default"](this.map),this.circle=new f["default"](this.map,this.$mdDialog),this.polygon=new p["default"](this.map,this.$mdDialog)}},{key:"searchVideo",value:function(){var e=this,t=(this.map,{}),n=this.filterFormSrv.values;this.drawSearchSrv.isReady()&&(t.boundingShapeType="Polygon",t.boundingShapeCoordinates=(0,i["default"])(this.drawSearchSrv.getFrame().geometry)),y["default"].isUndefined(n.source)||(t.sourceId=n.source),y["default"].isEmpty(n.tag)||(t.tagsIds=(0,i["default"])(n.tag)),y["default"].isEmpty(n.timeRange)||(y["default"].isUndefined(n.timeRange.from)||(t.fromVideoTime=n.timeRange.from),y["default"].isUndefined(n.timeRange.to)||(t.toVideoTime=n.timeRange.to)),y["default"].isEmpty(n.length)||(y["default"].isUndefined(n.length.min)||(t.minVideoDuration=n.length.min),y["default"].isUndefined(n.length.max)||(t.maxVideoDuration=n.length.max)),this._boundingGroup.clearLayers(),this.videoSrv.getVideo(t).then(function(t){e.videoSrv.list=t,y["default"].each(t,function(t){e.renderBoundingGroup(t.boundingPolygon)})})}},{key:"renderBoundingGroup",value:function(e){this.geojson=L.geoJson(e,{style:this.style.bind(this),onEachFeature:this.onEachFeature.bind(this)}).bindLabel("Bounding polygon").addTo(this._boundingGroup)}},{key:"clearMovingGroup",value:function(){this._movingGroup.clearLayers()}},{key:"renderMovingGroup",value:function(e){this.clearMovingGroup(),this.geojson=L.geoJson(e,{style:this.style.bind(this),onEachFeature:this.onEachFeature.bind(this)}).bindLabel("Moving object").addTo(this._movingGroup)}},{key:"style",value:function(e){var t="MultiPolygon"==e.geometry.type;return{weight:2,opacity:1,color:"white",dashArray:t?"3":"",fillOpacity:t?.3:1,fillColor:t?"green":"magenta"}}},{key:"highlightFeature",value:function(e){var t=e.target;t.setStyle({weight:5,color:"#666",dashArray:"",fillOpacity:.7}),L.Browser.ie||L.Browser.opera||t.bringToFront(),this.ctrlInfo.update(t.feature.properties)}},{key:"resetHighlight",value:function(e){this.geojson.resetStyle(e.target),this.ctrlInfo.update()}},{key:"zoomToFeature",value:function(e){this.map.fitBounds(e.target.getBounds())}},{key:"onEachFeature",value:function(e,t){t.on({mouseover:this.highlightFeature.bind(this),mouseout:this.resetHighlight.bind(this),click:this.zoomToFeature.bind(this)})}},{key:"convertToFeatures",value:function(e){var t=this,n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],r={type:"FeatureCollection",features:[]};return y["default"].each(e,function(e){r.features.push({type:"Feature",properties:y["default"].merge(n,y["default"].pick(e,["_id","sourceId","videoId","timestamp","data","sensorPosition"])),geometry:{type:t.capitalizeFirstLetter(e.sensorTrace.type),coordinates:e.sensorTrace.coordinates}})}),r}},{key:"_addSearchPoints",value:function(){var e=[[27.105208,35.52751],[27.106178,35.52492],[27.109094,35.525464],[27.105208,35.52751]];L.polygon(e,{color:"red",weight:2}).bindLabel("Search area").addTo(this.map)}},{key:"showAlert",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?"Interesting fact...":arguments[1],n=arguments.length<=2||void 0===arguments[2]?"OK":arguments[2];this.$mdDialog.show(this.$mdDialog.alert().parent(angular.element(document.getElementById("map-main"))).clickOutsideToClose(!0).title(t).textContent(e).ariaLabel("Alert Dialog Demo").ok(n))}},{key:"capitalizeFirstLetter",value:function(e){return e.charAt(0).toUpperCase()+e.slice(1)}}]),e}();exports["default"]=b},388:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(307),i=n(r),a=t(308),o=n(a),l=t(389),s=(n(l),function(){function e(t,n){(0,i["default"])(this,e),this.map=t,this.$mdDialog=n,this.heat=L.heatLayer([],{radius:15}).addTo(this.map),this.enabled=!1}return(0,o["default"])(e,[{key:"drawToggle",value:function(){this.enabled=!this.enabled,this.enabled?(this.showAlertSample("Hold ALT key to draw the heat map"),this.map.on({mousemove:this._mousemove},this)):this.map.off({mousemove:this._mousemove},this)}},{key:"_mousemove",value:function(e){e.originalEvent.altKey&&this.heat.addLatLng(e.latlng)}},{key:"showAlertSample",value:function(e){this.$mdDialog.show(this.$mdDialog.alert().parent(angular.element(document.getElementById("map-main"))).clickOutsideToClose(!0).title("Interesting fact...").textContent(e).ariaLabel("Alert Dialog Demo").ok("Got it!"))}}]),e}());exports["default"]=s},390:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(386),i=n(r),a=t(307),o=n(a),l=t(308),s=n(l),u=function(){function e(t,n){(0,o["default"])(this,e),this.map=t,this.$mdDialog=n,this.enabled=!1}return(0,s["default"])(e,[{key:"toggle",value:function(){this.enabled=!this.enabled,this.enabled?(this.showAlertSample("Click on map to put circle"),this.on()):this.off()}},{key:"on",value:function(){this.map.on({click:this.addCircle},this)}},{key:"off",value:function(){this.map.off({click:this.addCircle},this)}},{key:"addCircle",value:function(e){var t=this;L.circle(e.latlng,this.randomInteger(50,1e3),{color:"red",fillColor:"#f03",fillOpacity:.5}).addTo(this.map).on("click",function(n){t.showAlertSample("This is message from circle: "+(0,i["default"])(e.latlng))})}},{key:"showAlertSample",value:function(e){this.$mdDialog.show(this.$mdDialog.alert().parent(angular.element(document.getElementById("map-main"))).clickOutsideToClose(!0).title("Interesting fact...").textContent(e).ariaLabel("Alert Dialog Demo").ok("Got it!"))}},{key:"randomInteger",value:function(e,t){var n=e+Math.random()*(t-e);return n=Math.round(n)}}]),e}();exports["default"]=u},391:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(307),i=n(r),a=t(308),o=n(a),l=t(331),s=function(){function e(t,n){(0,i["default"])(this,e),this.map=t,this.$mdDialog=n,this.enabled=!1,this.points=[],this.markers=[],this.polygon=null}return(0,o["default"])(e,[{key:"toggle",value:function(){this.enabled=!this.enabled,this.enabled?(this.showAlertSample("Hold ALT key and click on map to build polygon, release ALT and click to finish poligon"),this.on()):this.off()}},{key:"on",value:function(){this.map.on({click:this.buildPolygon},this)}},{key:"off",value:function(){this.map.off({click:this.buildPolygon},this)}},{key:"buildPolygon",value:function(e){var n=this;e.originalEvent.altKey?(!this.points.length&&this.polygon&&(this.map.removeLayer(this.polygon),l.each(this.markers,function(e){n.map.removeLayer(e)}),delete this.polygon,this.markers=[]),this.points.push(e.latlng),this.markers.push(L.marker(e.latlng,{icon:L.icon({iconUrl:t(392),iconSize:[32,32]})}).addTo(this.map))):this.points.length>2&&(this.polygon=L.polygon(this.points),this.polygon.addTo(this.map),this.points=[])}},{key:"showAlertSample",value:function(e){this.$mdDialog.show(this.$mdDialog.alert().parent(angular.element(document.getElementById("map-main"))).clickOutsideToClose(!0).title("Interesting fact...").textContent(e).ariaLabel("Alert Dialog Demo").ok("Got it!"))}},{key:"randomInteger",value:function(e,t){var n=e+Math.random()*(t-e);return n=Math.round(n)}}]),e}();exports["default"]=s},392:function(e,exports,t){e.exports=t.p+"assets/client/app/components/map/assets/icon_dron.7f085f.png"},393:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(307),i=n(r),a=t(308),o=n(a),l=t(331),s=n(l),u=function(){function e(t){(0,i["default"])(this,e),this.enabled=!1,this.activeTool=null,this.map=t,this._drawGroup=new L.FeatureGroup,this._frame=null,this._activeHandler=null,L.drawLocal.draw.handlers.rectangle.tooltip.start="Click and drag to define search frame",L.drawLocal.draw.handlers.circle.tooltip.start="Click and drag to define search circle",L.drawLocal.draw.handlers.simpleshape.tooltip.end="Release mouse to finish",this.init()}return(0,o["default"])(e,[{key:"isReady",value:function(){return!s["default"].isEmpty(this._frame)}},{key:"init",value:function(){var e=this;this.map.addLayer(this._drawGroup),this.map.on("draw:created",function(t){t.layerType;e._frame=t.layer,e._drawGroup.addLayer(e._frame)}),this.map.on("draw:drawstart",function(t){t.layerType;e.removeFrame()})}},{key:"getFrame",value:function(){if(!this.isReady())return void console.error("DrawSearch: search shape is not defined");var e={};switch(e.type=this.activeTool,e.type){case"circle":break;default:e.geometry=this._frame.toGeoJSON().geometry.coordinates}return e}},{key:"startTool",value:function(e){switch(s["default"].isEmpty(this._activeHandler)||this.activeHandlerDisable(),e){case"rectangle":this._activeHandler=new L.Draw.Rectangle(this.map);break;case"polygon":this._activeHandler=new L.Draw.Polygon(this.map);break;case"circle":this._activeHandler=new L.Draw.Circle(this.map)}this.activeHandlerEnable()}},{key:"removeFrame",value:function(){this._drawGroup.clearLayers(),this._frame=null}},{key:"activeHandlerDisable",value:function(){this._activeHandler.disable()}},{key:"activeHandlerEnable",value:function(){this._activeHandler.enable()}}]),e}();exports["default"]=u},394:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(307),i=n(r),a=t(308),o=n(a),l=t(331),s=n(l),u=function(){function e(t,n,r){"ngInject";var a=this;(0,i["default"])(this,e),this.mapSrv=t,this.dashJSrv=n,this._trackGroup=new L.FeatureGroup,this.marker=null,this.$rootScope=r,r.$on("dashjs:close",function(e,t){a.clearTrackGroup(),a.mapSrv.clearMovingGroup()})}return e.$inject=["MapService","dashJS","$rootScope"],(0,o["default"])(e,[{key:"init",value:function(){this.map=this.mapSrv.map,this._trackGroup.addTo(this.map),this.dashJSrv.player.on(this.dashJSrv.dashjs.MediaPlayer.events.PLAYBACK_METADATA_LOADED,this.metadataLoaded.bind(this))}},{key:"clearTrackGroup",value:function(){this._trackGroup.clearLayers()}},{key:"metadataLoaded",value:function(e){var n=this;if(!s["default"].isEmpty(this.dashJSrv.view.textTracks)){this.clearTrackGroup();var r,i,a,o,l=this.dashJSrv.view.textTracks[0],u=[],d=this;l.mode="hidden",s["default"].each(l.cues,function(e){
r=JSON.parse(e.text),i=r.sensorTrace.coordinates[0],a=n.getLatLngCenter(i),o||(o=[i[0][1],i[0][0]]),u.push(a)}),o&&(this.marker=L.marker(o,{icon:L.icon({iconUrl:t(392),iconSize:[32,32]})}).addTo(this._trackGroup),this.map.panTo(o)),s["default"].isEmpty(u)||L.polyline(u,{color:"red"}).addTo(this._trackGroup),l.oncuechange=function(){var e=this.activeCues[0],t=void 0,n=void 0;s["default"].isUndefined(e)||(t=JSON.parse(e.text),n=d.getLatLngCenter(t.sensorTrace.coordinates[0]),d.mapSrv.renderMovingGroup({type:"FeatureCollection",features:[{type:"Feature",properties:{},geometry:t.sensorTrace}]}),d.marker.setLatLng(n),d.map.panTo(n))}}}},{key:"rad2degr",value:function(e){return 180*e/Math.PI}},{key:"degr2rad",value:function(e){return e*Math.PI/180}},{key:"getLatLngCenter",value:function(e){for(var t=1,n=0,r=0,i=0,a=0,o=0;o<e.length;o++){var l=this.degr2rad(e[o][t]),s=this.degr2rad(e[o][n]);r+=Math.cos(l)*Math.cos(s),i+=Math.cos(l)*Math.sin(s),a+=Math.sin(l)}var u=r/e.length,d=i/e.length,c=a/e.length,s=Math.atan2(d,u),f=Math.sqrt(u*u+d*d),l=Math.atan2(c,f);return[this.rad2degr(l),this.rad2degr(s)]}}]),e}();exports["default"]=u},395:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(299),i=n(r),a=t(304),o=n(a),l=t(396),s=n(l),u=i["default"].module("filterResult",[o["default"]]).component("filterResult",s["default"]);exports["default"]=u},396:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(397),i=n(r),a=t(398),o=n(a);t(502);var l={restrict:"E",bindings:{},template:i["default"],controller:o["default"],controllerAs:"vm"};exports["default"]=l},397:function(e,exports){e.exports='<div class="video-results">\r\n  <md-toolbar class="md-hue-3 md-toolbar-slim">\r\n    <h2 class="md-toolbar-tools">Query Results ({{vm.videoSrv.list.length}})</h2>\r\n  </md-toolbar>\r\n\r\n  <table>\r\n    <thead>\r\n    <tr>\r\n      <td>Title</td>\r\n      <td>Source</td>\r\n      <td>Length</td>\r\n      <td></td>\r\n    </tr>\r\n    </thead>\r\n\r\n    <tbody>\r\n    <tr\r\n      data-ng-repeat="video in vm.videoSrv.list"\r\n      ng-click="vm.setActiveRow($event)"\r\n      ng-class="{ \'playing-video\': video.id == vm.videoSrv.currentVideoId }">\r\n      <td>{{video.name}}</td>\r\n      <td>{{video.sourceId}}</td>\r\n      <td>{{vm.moment.utc(video.providerData.msDuration).format("HH:mm:ss")}}</td>\r\n      <td class="td-video-panel"><video-panel data-video="video"></video-panel></td>\r\n    </tr>\r\n    </tbody>\r\n  </table>\r\n</div>\r\n'},398:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(307),i=n(r),a=t(308),o=n(a),l=t(399),s=n(l),u=function(){function e(t){"ngInject";(0,i["default"])(this,e),this.videoSrv=t,this.moment=s["default"]}return e.$inject=["VideoService"],(0,o["default"])(e,[{key:"setActiveRow",value:function(e){if(e.target){var t=angular.element(e.target).parent();t.parent().find("tr").removeClass("active"),t.addClass("active")}}}]),e}();exports["default"]=u},400:function(e,exports,t){function n(e){return t(r(e))}function r(e){return i[e]||function(){throw new Error("Cannot find module '"+e+"'.")}()}var i={"./af":401,"./af.js":401,"./ar":402,"./ar-ma":403,"./ar-ma.js":403,"./ar-sa":404,"./ar-sa.js":404,"./ar-tn":405,"./ar-tn.js":405,"./ar.js":402,"./az":406,"./az.js":406,"./be":407,"./be.js":407,"./bg":408,"./bg.js":408,"./bn":409,"./bn.js":409,"./bo":410,"./bo.js":410,"./br":411,"./br.js":411,"./bs":412,"./bs.js":412,"./ca":413,"./ca.js":413,"./cs":414,"./cs.js":414,"./cv":415,"./cv.js":415,"./cy":416,"./cy.js":416,"./da":417,"./da.js":417,"./de":418,"./de-at":419,"./de-at.js":419,"./de.js":418,"./dv":420,"./dv.js":420,"./el":421,"./el.js":421,"./en-au":422,"./en-au.js":422,"./en-ca":423,"./en-ca.js":423,"./en-gb":424,"./en-gb.js":424,"./en-ie":425,"./en-ie.js":425,"./en-nz":426,"./en-nz.js":426,"./eo":427,"./eo.js":427,"./es":428,"./es-do":429,"./es-do.js":429,"./es.js":428,"./et":430,"./et.js":430,"./eu":431,"./eu.js":431,"./fa":432,"./fa.js":432,"./fi":433,"./fi.js":433,"./fo":434,"./fo.js":434,"./fr":435,"./fr-ca":436,"./fr-ca.js":436,"./fr-ch":437,"./fr-ch.js":437,"./fr.js":435,"./fy":438,"./fy.js":438,"./gd":439,"./gd.js":439,"./gl":440,"./gl.js":440,"./he":441,"./he.js":441,"./hi":442,"./hi.js":442,"./hr":443,"./hr.js":443,"./hu":444,"./hu.js":444,"./hy-am":445,"./hy-am.js":445,"./id":446,"./id.js":446,"./is":447,"./is.js":447,"./it":448,"./it.js":448,"./ja":449,"./ja.js":449,"./jv":450,"./jv.js":450,"./ka":451,"./ka.js":451,"./kk":452,"./kk.js":452,"./km":453,"./km.js":453,"./ko":454,"./ko.js":454,"./ky":455,"./ky.js":455,"./lb":456,"./lb.js":456,"./lo":457,"./lo.js":457,"./lt":458,"./lt.js":458,"./lv":459,"./lv.js":459,"./me":460,"./me.js":460,"./mk":461,"./mk.js":461,"./ml":462,"./ml.js":462,"./mr":463,"./mr.js":463,"./ms":464,"./ms-my":465,"./ms-my.js":465,"./ms.js":464,"./my":466,"./my.js":466,"./nb":467,"./nb.js":467,"./ne":468,"./ne.js":468,"./nl":469,"./nl.js":469,"./nn":470,"./nn.js":470,"./pa-in":471,"./pa-in.js":471,"./pl":472,"./pl.js":472,"./pt":473,"./pt-br":474,"./pt-br.js":474,"./pt.js":473,"./ro":475,"./ro.js":475,"./ru":476,"./ru.js":476,"./se":477,"./se.js":477,"./si":478,"./si.js":478,"./sk":479,"./sk.js":479,"./sl":480,"./sl.js":480,"./sq":481,"./sq.js":481,"./sr":482,"./sr-cyrl":483,"./sr-cyrl.js":483,"./sr.js":482,"./ss":484,"./ss.js":484,"./sv":485,"./sv.js":485,"./sw":486,"./sw.js":486,"./ta":487,"./ta.js":487,"./te":488,"./te.js":488,"./th":489,"./th.js":489,"./tl-ph":490,"./tl-ph.js":490,"./tlh":491,"./tlh.js":491,"./tr":492,"./tr.js":492,"./tzl":493,"./tzl.js":493,"./tzm":494,"./tzm-latn":495,"./tzm-latn.js":495,"./tzm.js":494,"./uk":496,"./uk.js":496,"./uz":497,"./uz.js":497,"./vi":498,"./vi.js":498,"./x-pseudo":499,"./x-pseudo.js":499,"./zh-cn":500,"./zh-cn.js":500,"./zh-tw":501,"./zh-tw.js":501};n.keys=function(){return Object.keys(i)},n.resolve=r,e.exports=n,n.id=400},502:function(e,exports,t){var n=t(503);"string"==typeof n&&(n=[[e.id,n,""]]);t(342)(n,{});n.locals&&(e.exports=n.locals)},503:function(e,exports,t){exports=e.exports=t(341)(),exports.push([e.id,".video-results .video-title{text-align:center;margin:0 0 15px;padding:10px 0}.video-results .video-panel{display:none}.video-results table{width:100%;border-collapse:collapse}.video-results table thead td{font-weight:700}.video-results table .td-video-panel{width:24px}.video-results table tbody td{padding:0;height:72px}.video-results table tbody tr.active .video-panel{display:block}.video-results table tbody tr.active td,.video-results table tbody tr:hover td{background-color:#e3e0e0}",""])},504:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(299),i=n(r),a=t(505),o=n(a),l=t(510),s=n(l),u=t(516),d=n(u),c=t(522),f=n(c),m=t(529),p=n(m),v=t(538),h=n(v),g=i["default"].module("filterForm",[s["default"].name,d["default"].name,p["default"].name,f["default"].name]).service({FilterFormService:h["default"]}).component("filterForm",o["default"]);exports["default"]=g},505:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(506),i=n(r),a=t(507),o=n(a);t(508);var l={restrict:"E",bindings:{},template:i["default"],controller:o["default"],controllerAs:"vm"};exports["default"]=l},506:function(e,exports){e.exports='<div class="filter-form">\r\n  <md-toolbar class="md-hue-3 md-toolbar-slim">\r\n    <div class="md-toolbar-tools">\r\n      <h2>Query</h2>\r\n      <span flex></span>\r\n\r\n\r\n      <md-menu>\r\n        <md-button class="md-icon-button"\r\n                   aria-label="Add new filter"\r\n                   flex="none"\r\n                   ng-click="$mdOpenMenu($event)"\r\n                   ng-disabled="vm.filterFormSrv.isEmptyAvailableFilters()">\r\n          <md-icon class="material-icons">add_circle_outline</md-icon>\r\n        </md-button>\r\n\r\n        <md-menu-content width="4">\r\n          <md-menu-item ng-repeat="(controlType, avFilter) in vm.filterFormSrv.availableFilters">\r\n            <md-button ng-if="!vm.filterFormSrv.oneAvailableFilterLeft()"\r\n              ng-click="vm.filterFormSrv.addFilter(controlType)"\r\n              md-prevent-menu-close>\r\n              <md-icon class="material-icon">{{avFilter.menuIcon}}</md-icon>\r\n              <span>{{avFilter.label}}</span>\r\n            </md-button>\r\n\r\n            <md-button ng-if="vm.filterFormSrv.oneAvailableFilterLeft()"\r\n                       ng-click="vm.filterFormSrv.addFilter(controlType)">\r\n              <md-icon class="material-icon">{{avFilter.menuIcon}}</md-icon>\r\n              <span>{{avFilter.label}}</span>\r\n            </md-button>\r\n\r\n          </md-menu-item>\r\n\r\n        </md-menu-content>\r\n\r\n      </md-menu>\r\n\r\n\r\n    </div>\r\n\r\n  </md-toolbar>\r\n\r\n\r\n  <div class="filter-form-content">\r\n    <form name="filterForm">\r\n      <div ng-repeat="(controlType, actFilter) in vm.filterFormSrv.activeFilters"\r\n           ng-switch="controlType"\r\n           class="filter-item"\r\n           layout="row"\r\n           layout-align="center center">\r\n        <filter-selectbox ng-switch-default\r\n                          flex\r\n                          label="{{actFilter.label}}"\r\n                          label-icon="{{actFilter.menuIcon}}"\r\n                          control-type="{{controlType}}"\r\n                          on-change="vm.onChange(controlType, value)"\r\n                          on-remove="vm.filterFormSrv.removeFilter(controlType)"></filter-selectbox>\r\n\r\n        <filter-graphic-button ng-switch-when="shapeType"\r\n                          flex\r\n                          label="{{actFilter.label}}"\r\n                          label-icon="{{actFilter.menuIcon}}"\r\n                          control-type="{{controlType}}"\r\n                          on-change="vm.onChange(controlType, value)"\r\n                          on-remove="vm.filterFormSrv.removeFilter(controlType)"></filter-graphic-button>\r\n\r\n        <filter-num-interval\r\n                          ng-switch-when="length"\r\n                          flex\r\n                          label="{{actFilter.label}}"\r\n                          label-icon="{{actFilter.menuIcon}}"\r\n                          label-min="Min"\r\n                          label-max="Max"\r\n                          control-type="{{controlType}}"\r\n                          on-change="vm.onChange(controlType, value)"\r\n                          on-remove="vm.filterFormSrv.removeFilter(controlType)"></filter-num-interval>\r\n\r\n        <filter-time-range\r\n                          ng-switch-when="timeRange"\r\n                          flex\r\n                          label="{{actFilter.label}}"\r\n                          label-icon="{{actFilter.menuIcon}}"\r\n                          label-from="Start Date/Time"\r\n                          label-to="End Date/Time"\r\n                          control-type="{{controlType}}"\r\n                          on-change="vm.onChange(controlType, value)"\r\n                          on-remove="vm.filterFormSrv.removeFilter(controlType)"></filter-time-range>\r\n      </div>\r\n\r\n      <div layout="row" layout-align="center center">\r\n        <span flex></span>\r\n        <md-button ng-disabled="!vm.searchable()" ng-click="vm.search()" flex="none" ng-hide="vm.filterFormSrv.isEmptyActiveFilters()" class="md-primary md-raised">Search</md-button>\r\n      </div>\r\n    </form>\r\n\r\n    <p class="filter-form-note" ng-show="vm.filterFormSrv.isEmptyActiveFilters()">No filters selected</p>\r\n  </div>\r\n\r\n</div>\r\n'},507:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(307),i=n(r),a=t(308),o=n(a),l=t(331),s=n(l),u=function(){function e(t,n){"ngInject";(0,i["default"])(this,e),this.filterFormSrv=t,this.mapSrv=n}return e.$inject=["FilterFormService","MapService"],(0,o["default"])(e,[{key:"onChange",value:function(e,t){if(this.filterFormSrv.values[e]=t,s["default"].isArray(t)&&s["default"].isEmpty(t)&&delete this.filterFormSrv.values[e],s["default"].isObject(t)){var n=!1;s["default"].each(t,function(e){e&&(n=!0)}),n||delete this.filterFormSrv.values[e]}}},{key:"search",value:function(){this.mapSrv.searchVideo(),this.mapSrv.drawSearchSrv.removeFrame()}},{key:"searchable",value:function(){var e=this,t=!1,n=this.filterFormSrv.values;return s["default"].each(n,function(r,i){switch(i){case"shapeType":e.mapSrv.drawSearchSrv.isReady()&&(t=!0);break;default:s["default"].isEmpty(n)||(t=!0)}}),t}}]),e}();exports["default"]=u},508:function(e,exports,t){var n=t(509);"string"==typeof n&&(n=[[e.id,n,""]]);t(342)(n,{});n.locals&&(e.exports=n.locals)},509:function(e,exports,t){exports=e.exports=t(341)(),exports.push([e.id,".filter-form-note{text-align:center;font-size:14px}.filter-form-content{padding-right:10px;padding-bottom:10px;font-size:12px}",""])},510:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(299),i=n(r),a=t(304),o=n(a),l=t(511),s=n(l),u=i["default"].module("filterSelectbox",[o["default"]]).component("filterSelectbox",s["default"]);exports["default"]=u},511:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(512),i=n(r),a=t(513),o=n(a);t(514);var l={restrict:"E",bindings:{controlType:"@",label:"@",labelIcon:"@",onChange:"&",onRemove:"&"},template:i["default"],controller:o["default"],controllerAs:"vm"};exports["default"]=l},512:function(e,exports){e.exports='<div layout="row" layout-align="center center">\r\n  <md-button class="md-icon-button md-primary md-hue-1 ml0"\r\n             aria-label="Remove filter"\r\n             flex="none"\r\n             ng-click="vm.removeFilter(vm.controlType)">\r\n    <md-icon class="material-icons">remove_circle_outline</md-icon>\r\n  </md-button>\r\n\r\n  <label flex="25">{{vm.label}}</label>\r\n\r\n  <md-input-container flex="75">\r\n    <md-icon class="material-icon">{{vm.labelIcon}}</md-icon>\r\n    <md-select ng-if="!vm.multiple" ng-change="vm.changed()" ng-model="vm.value" placeholder="{{vm.label}}">\r\n      <md-option ng-repeat="opt in vm.options" value="{{opt.value}}">\r\n        {{opt.name}}\r\n      </md-option>\r\n    </md-select>\r\n\r\n    <md-select ng-if="vm.multiple" multiple ng-change="vm.changed()" ng-model="vm.value" placeholder="{{vm.label}}">\r\n      <md-option ng-repeat="opt in vm.options" value="{{opt.value}}">\r\n        {{opt.name}}\r\n      </md-option>\r\n    </md-select>\r\n  </md-input-container>\r\n</div>\r\n'},513:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(307),i=n(r),a=t(308),o=n(a),l=t(331),s=n(l),u=function(){function e(t,n){"ngInject";var r=this;switch((0,i["default"])(this,e),this.options=[],this.value="",this.rSource=t(n.API_URL+"/source/:id",{id:"@id"}),this.rTag=t(n.API_URL+"/tag/:id",{id:"@id"}),this.multiple=!1,this.controlType){case"source":this.getSources().then(function(e){s["default"].each(e,function(e){r.options.push({name:e.sourceName,value:e.sourceID})})});break;case"tag":this.multiple=!0,this.getTags().then(function(e){s["default"].each(e,function(e){r.options.push({name:e.title,value:e._id})})});break;default:this.options=[{name:"wildcamps.com",value:"wildcamps.com"},{name:"supercamps.com",value:"supercamps.com"},{name:"megacamps.com",value:"megacamps.com"},{name:"coolcamps.com",value:"coolcamps.com"}]}}return e.$inject=["$resource","ENV"],(0,o["default"])(e,[{key:"changed",value:function(){this.onChange({controlType:this.controlType,value:this.value})}},{key:"removeFilter",value:function(e){this.onRemove({controlType:e})}},{key:"getSources",value:function(){return this.rSource.query({}).$promise}},{key:"getTags",value:function(){return this.rTag.query({}).$promise}}]),e}();exports["default"]=u},514:function(e,exports,t){var n=t(515);"string"==typeof n&&(n=[[e.id,n,""]]);t(342)(n,{});n.locals&&(e.exports=n.locals)},515:function(e,exports,t){exports=e.exports=t(341)(),exports.push([e.id,".filter-item{margin:0 0 10px}.filter-item label,.filter-item md-select{font-size:14px}.filter-item md-input-container{margin:0}",""])},516:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(299),i=n(r),a=t(304),o=n(a),l=t(517),s=n(l),u=i["default"].module("filterNumInterval",[o["default"]]).component("filterNumInterval",s["default"]);exports["default"]=u},517:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(518),i=n(r),a=t(519),o=n(a);t(520);var l={restrict:"E",bindings:{controlType:"@",label:"@",labelIcon:"@",labelMin:"@",labelMax:"@",valueMin:"@",valueMax:"@",onChange:"&",onRemove:"&"},template:i["default"],controller:o["default"],controllerAs:"vm"};exports["default"]=l},518:function(e,exports){e.exports='<div layout="row" layout-align="center center">\r\n  <md-button class="md-icon-button md-primary md-hue-1 ml0"\r\n             aria-label="Remove filter"\r\n             flex="none"\r\n             ng-click="vm.onRemove({controlType: vm.controlType})">\r\n    <md-icon class="material-icons">remove_circle_outline</md-icon>\r\n  </md-button>\r\n\r\n  <label flex="25">{{vm.label}}</label>\r\n\r\n  <div flex="75" layout="column">\r\n\r\n    <md-slider-container layout="row" layout-align="center center">\r\n      <span flex="none" class="slider-label">Min</span>\r\n      <md-slider flex="75" min="0" max="18000" step="10" ng-model="vm.valueMin" ng-change="vm.changed()" aria-label="Min" id="length-min-slider">\r\n      </md-slider>\r\n      <md-input-container flex="25">\r\n        <input type="number" ng-model="vm.valueMin" ng-change="vm.changed()" aria-label="Min" aria-controls="length-min-slider">\r\n      </md-input-container>\r\n    </md-slider-container>\r\n\r\n    <md-slider-container layout="row" layout-align="center center">\r\n      <span flex="none" class="slider-label">Max</span>\r\n      <md-slider flex="75" min="{{vm.valueMin}}" max="36000" step="10" ng-model="vm.valueMax" ng-change="vm.changed()" aria-label="Max" id="length-max-slider">\r\n      </md-slider>\r\n      <md-input-container flex="25">\r\n        <input type="number" ng-model="vm.valueMax" ng-change="vm.changed()" aria-label="Max" aria-controls="length-max-slider">\r\n      </md-input-container>\r\n    </md-slider-container>\r\n\r\n  </div>\r\n\r\n</div>\r\n'},519:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(307),i=n(r),a=t(308),o=n(a),l=function(){function e(){(0,i["default"])(this,e),this.valueMin=0,this.valueMax=3600,this.changed()}return(0,o["default"])(e,[{key:"changed",value:function(){this.valueMin>this.valueMax&&(this.valueMax=this.valueMin),this.onChange({controlType:this.controlType,value:{min:this.valueMin,max:this.valueMax}})}}]),e}();exports["default"]=l},520:function(e,exports,t){var n=t(521);"string"==typeof n&&(n=[[e.id,n,""]]);t(342)(n,{});n.locals&&(e.exports=n.locals)},521:function(e,exports,t){exports=e.exports=t(341)(),exports.push([e.id,"filter-num-interval .slider-label{margin-right:10px;font-size:14px}filter-num-interval md-slider{margin-right:10px}",""])},522:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(299),i=n(r),a=t(523),o=n(a),l=i["default"].module("filterGraphicButton",[]).component("filterGraphicButton",o["default"]).config(["$mdIconProvider",function(e){"ngInject";e.iconSet("geometry",t(528),128)}]);exports["default"]=l},523:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(524),i=n(r),a=t(525),o=n(a);t(526);var l={restrict:"E",bindings:{controlType:"@",label:"@",labelIcon:"@",onChange:"&",onRemove:"&"},template:i["default"],controller:o["default"],controllerAs:"vm"};exports["default"]=l},524:function(e,exports){e.exports='<div layout="row" layout-align="center center">\r\n  <md-button class="md-icon-button md-primary md-hue-1 ml0"\r\n             aria-label="Remove filter"\r\n             flex="none"\r\n             ng-click="vm.removeFilter(vm.controlType)">\r\n    <md-icon class="material-icons">remove_circle_outline</md-icon>\r\n  </md-button>\r\n\r\n  <label flex="25">{{vm.label}}</label>\r\n\r\n  <md-input-container flex="75">\r\n    <md-radio-group ng-model="vm.value" ng-change="vm.changed()">\r\n      <md-radio-button ng-repeat="opt in vm.options"\r\n                       ng-value="opt.value"\r\n                       title="{{opt.title}}"\r\n                       aria-label="{{opt.title}}">\r\n        <md-icon md-svg-icon="{{opt.icon}}"></md-icon>\r\n      </md-radio-button>\r\n    </md-radio-group>\r\n  </md-input-container>\r\n\r\n</div>\r\n'},525:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(307),i=n(r),a=t(308),o=n(a),l=function(){function e(t,n){"ngInject";(0,i["default"])(this,e),this.options=null,this.value="",this.mapSrv=t,this.safeApply=n,this.init()}return e.$inject=["MapService","safeApply"],(0,o["default"])(e,[{key:"init",value:function(){var e=this;this.options=[{icon:"geometry:rectangle",value:"rectangle",title:"Rectangle"},{icon:"geometry:polygon",value:"polygon",title:"Polygon"},{icon:"geometry:circle",value:"circle",title:"Circle"}],this.mapSrv.map.on("draw:created",function(t){e.value=null,e.safeApply()})}},{key:"changed",value:function(){this.mapSrv.drawSearchSrv.startTool(this.value),this.onChange({controlType:this.controlType,value:this.value})}},{key:"removeFilter",value:function(e){this.mapSrv.drawSearchSrv.removeFrame(),this.mapSrv.drawSearchSrv.activeHandlerDisable(),this.onRemove({controlType:e})}}]),e}();exports["default"]=l},526:function(e,exports,t){var n=t(527);"string"==typeof n&&(n=[[e.id,n,""]]);t(342)(n,{});n.locals&&(e.exports=n.locals)},527:function(e,exports,t){exports=e.exports=t(341)(),exports.push([e.id,"filter-graphic-button md-radio-button{display:inline}filter-graphic-button md-radio-button .md-label{margin-left:39px}filter-graphic-button md-radio-button md-icon{padding:4px;border-radius:3px}filter-graphic-button md-radio-button .md-container{display:none}filter-graphic-button md-radio-button.md-checked md-icon{color:#fff;background-color:#3f51b5}",""])},528:function(e,exports,t){e.exports=t.p+"assets/client/app/components/filterForm/filterGraphicButton/assets/geometry.61a259.svg"},529:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(299),i=n(r),a=t(304),o=n(a),l=t(530),s=n(l),u=t(535),d=(n(u),t(536)),c=(n(d),i["default"].module("filterTimeRange",[o["default"],"ngMaterialDatePicker"]).component("filterTimeRange",s["default"]));exports["default"]=c},530:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(531),i=n(r),a=t(532),o=n(a);t(533);var l={restrict:"E",bindings:{controlType:"@",label:"@",labelIcon:"@",labelFrom:"@",labelTo:"@",valueFrom:"@",valueTo:"@",onChange:"&",onRemove:"&"},template:i["default"],controller:o["default"],controllerAs:"vm"};exports["default"]=l},531:function(e,exports){e.exports='<div layout="row" layout-align="center center">\r\n  <md-button class="md-icon-button md-primary md-hue-1 ml0"\r\n             aria-label="Remove filter"\r\n             flex="none"\r\n             ng-click="vm.onRemove({controlType: vm.controlType})">\r\n    <md-icon class="material-icons">remove_circle_outline</md-icon>\r\n  </md-button>\r\n\r\n  <label flex="25">{{vm.label}}</label>\r\n\r\n  <div flex="75" layout="column">\r\n\r\n    <md-input-container class="mt10" layout="row" layout-align="center center">\r\n      <label></label>\r\n      <input mdc-datetime-picker\r\n             date="true"\r\n             time="true"\r\n             type="text"\r\n             placeholder="{{vm.labelFrom}}"\r\n             max-date="vm.valueTo"\r\n             ng-model="vm.valueFrom"\r\n      />\r\n    </md-input-container>\r\n\r\n    <md-input-container class="mt10" layout="row" layout-align="center center">\r\n      <label></label>\r\n      <input mdc-datetime-picker\r\n             date="true"\r\n             time="true"\r\n             type="text"\r\n             placeholder="{{vm.labelTo}}"\r\n             min-date="vm.valueFrom"\r\n             ng-model="vm.valueTo"\r\n      />\r\n    </md-input-container>\r\n\r\n  </div>\r\n\r\n</div>\r\n'},532:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(307),i=n(r),a=t(308),o=n(a),l=function(){function e(t){"ngInject";var n=this;(0,i["default"])(this,e),this.$scope=t,this.valueFrom="",this.valueTo="",this.$scope.$watch(function(){return n.valueFrom},this.updateFrom.bind(this)),this.$scope.$watch(function(){return n.valueTo},this.updateTo.bind(this))}return e.$inject=["$scope"],(0,o["default"])(e,[{key:"updateFrom",value:function(e){this.onChange({controlType:this.controlType,value:{from:e,to:this.valueTo}})}},{key:"updateTo",value:function(e){this.onChange({controlType:this.controlType,value:{from:this.valueFrom,to:e}})}}]),e}();exports["default"]=l},533:function(e,exports,t){var n=t(534);"string"==typeof n&&(n=[[e.id,n,""]]);t(342)(n,{});n.locals&&(e.exports=n.locals)},534:function(e,exports,t){exports=e.exports=t(341)(),exports.push([e.id,"",""])},538:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(307),i=n(r),a=t(308),o=n(a),l=t(331),s=n(l),u=function(){function e(){(0,i["default"])(this,e),this.values={},this.activeFilters={},this.availableFilters={},this.filterList={source:{label:"Source",menuIcon:"input"},tag:{label:"Tag",menuIcon:"label"},copyright:{label:"Copyright",menuIcon:"copyright"},timeRange:{label:"Time range",menuIcon:"access_time"},length:{label:"Length, sec",menuIcon:"timelapse"},shapeType:{label:"Area shape",menuIcon:"my_location"}},this.availableFilters=s["default"].clone(this.filterList)}return(0,o["default"])(e,[{key:"addFilter",value:function(e){s["default"].isEmpty(this.activeFilters[e])&&(this.activeFilters[e]=this.filterList[e],delete this.availableFilters[e])}},{key:"removeFilter",value:function(e){s["default"].isEmpty(this.activeFilters[e])||(delete this.activeFilters[e],delete this.values[e],this.availableFilters[e]=this.filterList[e])}},{key:"isEmptyActiveFilters",value:function(){return s["default"].isEmpty(this.activeFilters)}},{key:"isEmptyAvailableFilters",value:function(){return s["default"].isEmpty(this.availableFilters)}},{key:"oneAvailableFilterLeft",value:function(){return 1==s["default"].size(this.availableFilters)}}]),e}();exports["default"]=u},539:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(299),i=n(r),a=t(304),o=n(a),l=t(540),s=n(l),u=i["default"].module("sidebar",[o["default"]]).component("sidebar",s["default"]);exports["default"]=u},540:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(541),i=n(r),a=t(542),o=n(a);t(543);var l={restrict:"E",bindings:{},template:i["default"],controller:o["default"],controllerAs:"vm"};exports["default"]=l},541:function(e,exports){e.exports=""},542:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(307),i=n(r),a=function o(){(0,i["default"])(this,o),this.name="sidebar"};exports["default"]=a},543:function(e,exports,t){var n=t(544);"string"==typeof n&&(n=[[e.id,n,""]]);t(342)(n,{});n.locals&&(e.exports=n.locals)},544:function(e,exports,t){exports=e.exports=t(341)(),exports.push([e.id,".md-sidenav-left{background-color:#f5f5f5;width:415px;min-width:415px;max-width:415px}",""])},545:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(299),i=n(r),a=t(304),o=n(a),l=t(546),s=n(l),u=i["default"].module("videoPanel",[o["default"]]).component("videoPanel",s["default"]);exports["default"]=u},546:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(547),i=n(r),a=t(548),o=n(a);t(549);var l={restrict:"E",bindings:{video:"<",favourite:"@"},template:i["default"],controller:o["default"],controllerAs:"vm"};exports["default"]=l},547:function(e,exports){e.exports='<ul class="video-panel">\r\n  <li class="panel-item-play">\r\n    <a title="Play video" href="" ng-click="vm.videoSrv.playVideo(vm.video._id)">\r\n      <md-icon class="material-icons md-10">play_arrow</md-icon>\r\n    </a>\r\n  </li>\r\n\r\n  <li class="panel-item-playlist" ng-switch="vm.playList.isAdded(vm.video)">\r\n    <a ng-switch-when="false" title="Add to playlist" href="" ng-click="vm.playList.add(vm.video)">\r\n      <md-icon class="material-icons md-10">add</md-icon>\r\n    </a>\r\n    <a ng-switch-when="true" title="Remove from playlist" href="" ng-click="vm.playList.remove(vm.video)">\r\n      <md-icon class="material-icons md-10">close</md-icon>\r\n    </a>\r\n  </li>\r\n\r\n  <li ng-if="vm.favourite != \'false\'" class="panel-item-star" ng-switch="vm.star.isAdded(vm.video)">\r\n    <a ng-switch-when="false" title="Add to favourite" href="" ng-click="vm.star.add(vm.video)">\r\n      <md-icon class="material-icons md-10">star_border</md-icon>\r\n    </a>\r\n    <a ng-switch-when="true" title="Remove from favourite" href="" ng-click="vm.star.remove(vm.video)">\r\n      <md-icon class="material-icons md-10">star</md-icon>\r\n    </a>\r\n  </li>\r\n</ul>\r\n'},548:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(307),i=n(r),a=function o(e,t,n){"ngInject";(0,i["default"])(this,o),this.playList=e,this.star=t,this.videoSrv=n};a.$inject=["PlayListService","starService","VideoService"],exports["default"]=a},549:function(e,exports,t){var n=t(550);"string"==typeof n&&(n=[[e.id,n,""]]);t(342)(n,{});n.locals&&(e.exports=n.locals)},550:function(e,exports,t){exports=e.exports=t(341)(),exports.push([e.id,"ul.video-panel{list-style:none;margin:0;padding:0;background-color:#ccc}",""])},551:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(299),i=n(r),a=t(304),o=n(a),l=t(552),s=n(l),u=t(557),d=n(u),c=i["default"].module("player",[o["default"]]).service({dashJS:d["default"]}).component("player",s["default"]);exports["default"]=c},552:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(553),i=n(r),a=t(554),o=n(a);t(555);var l={restrict:"E",bindings:{},template:i["default"],controller:o["default"],controllerAs:"vm"
};exports["default"]=l},553:function(e,exports){e.exports='<div class="player-wrap" ng-show="vm.video.visible">\r\n  <a class="player-btn-close" href="" ng-click="vm.close()">\r\n    <md-icon class="material-icons md-40">close</md-icon>\r\n  </a>\r\n\r\n  <div id="videoContainer">\r\n    <video id="video-player"></video>\r\n    <div id="video-caption"></div>\r\n    <div id="videoController" class="video-controller unselectable">\r\n      <div id="playPauseBtn" class="btn-play-pause" title="Play/Pause">\r\n        <span id="iconPlayPause" class="icon-play"></span>\r\n      </div>\r\n      <span id="videoTime" class="time-display">00:00:00</span>\r\n\r\n      <div id="fullscreenBtn" class="btn-fullscreen" title="Fullscreen">\r\n        <span class="icon-fullscreen-enter"></span>\r\n      </div>\r\n      <input type="range" id="volumebar" class="volumebar" value="1" min="0" max="1" step=".01" />\r\n\r\n      <div id="muteBtn" class="btn-mute" title="Mute">\r\n        <span id="iconMute" class="icon-mute-off"></span>\r\n      </div>\r\n      <div title="Setting" id="qualitybutton" class="btn-setting" id="muteBtn1">\r\n        <span class="icon-setting" id="iconMute1"></span>\r\n      </div>\r\n      <div id="captionBtn" class="btn-caption" title="Closed Caption">\r\n        <span class="icon-caption"></span>\r\n      </div>\r\n\r\n      <span id="videoDuration" class="duration-display">00:00:00</span>\r\n\r\n      <div class="seekContainer">\r\n        <input type="range" id="seekbar" value="0" class="seekbar" min="0" step="0.01"/>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n'},554:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(307),i=n(r),a=t(308),o=n(a),l=function(){function e(t,n){"ngInject";(0,i["default"])(this,e),this.video=t,this.videoSrv=n}return e.$inject=["dashJS","VideoService"],(0,o["default"])(e,[{key:"close",value:function(){this.video.close(),this.videoSrv.currentVideoId=""}},{key:"$onInit",value:function(){}}]),e}();exports["default"]=l},555:function(e,exports,t){var n=t(556);"string"==typeof n&&(n=[[e.id,n,""]]);t(342)(n,{});n.locals&&(e.exports=n.locals)},556:function(e,exports,t){exports=e.exports=t(341)(),exports.push([e.id,".player-wrap{position:absolute;z-index:1000;right:0;top:0;background-color:#000;padding:0 10px}.player-wrap video{width:100%;height:100%}.player-wrap .player-btn-close{position:absolute;bottom:13px;left:-40px}.player-wrap .player-btn-close .md-40{font-size:40px}.player-wrap .duration-display,.player-wrap .time-display{font-size:14px}",""])},557:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(307),i=n(r),a=t(308),o=n(a),l=t(558),s=n(l),u=t(632),d=n(u),c=t(633),f=(n(c),"video-player"),m=function(){function e(t,n){"ngInject";(0,i["default"])(this,e),this.safeApply=t,this.dashjs=s["default"],this.visible=!1,this.ttmlDiv=null,this.controlbar=null,this.view=document.getElementById(f),this.player=this.dashjs.MediaPlayer().create(),this.inited=!1,this.$rootScope=n}return e.$inject=["safeApply","$rootScope"],(0,o["default"])(e,[{key:"init",value:function(e){var t=!(arguments.length<=1||void 0===arguments[1])&&arguments[1];this.inited?(this.player.attachSource(e),this.player.play()):(this.player.initialize(this.view,e,t),this.player.attachVideoContainer(document.getElementById("videoContainer")),"undefined"==typeof navigator||navigator.userAgent.match(/Firefox/)||(this.ttmlDiv=document.querySelector("#video-caption"),this.player.attachTTMLRenderingDiv(this.ttmlDiv)),this.controlbar=new d["default"](this.player),this.controlbar.initialize(),this.inited=!0),this.$rootScope.$emit("dashjs:init","Inited!"),this.setVisible(!0)}},{key:"setVisible",value:function(e){this.visible=e,this.safeApply()}},{key:"close",value:function(){this.player.pause(),this.setVisible(!1),this.$rootScope.$emit("dashjs:close","Closed!")}}]),e}();exports["default"]=m},638:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(299),i=n(r),a=t(304),o=n(a),l=t(639),s=n(l),u=i["default"].module("userLoginPage",[o["default"]]).config(["$stateProvider",function(e){"ngInject";e.state("loginPage",{url:"/login",template:"<user-login-page></user-login-page>"})}]).component("userLoginPage",s["default"]);exports["default"]=u},639:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(640),i=n(r),a=t(641),o=n(a);t(642);var l={restrict:"E",bindings:{},template:i["default"],controller:o["default"],controllerAs:"vm"};exports["default"]=l},640:function(e,exports){e.exports='<navbar></navbar>\r\n<div class="user-login-page" layout="row" layout-align="center center" layout-fill>\r\n  <user-login></user-login>\r\n</div>\r\n'},641:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(307),i=n(r),a=function o(){(0,i["default"])(this,o),this.name="userLoginPage"};exports["default"]=a},642:function(e,exports,t){var n=t(643);"string"==typeof n&&(n=[[e.id,n,""]]);t(342)(n,{});n.locals&&(e.exports=n.locals)},643:function(e,exports,t){exports=e.exports=t(341)(),exports.push([e.id,".user-login-page{text-align:center;padding:100px 0}",""])},644:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(299),i=n(r),a=t(304),o=n(a),l=t(645),s=n(l),u=i["default"].module("playList",[o["default"]]).component("playList",s["default"]);exports["default"]=u},645:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(646),i=n(r),a=t(647),o=n(a);t(648);var l={restrict:"E",bindings:{},template:i["default"],controller:o["default"],controllerAs:"vm"};exports["default"]=l},646:function(e,exports){e.exports='<div class="video-results">\r\n  <md-toolbar class="md-hue-3 md-toolbar-slim">\r\n\r\n    <div class="md-toolbar-tools">\r\n      <h2>List items ({{vm.playList.count()}})</h2>\r\n      <span flex></span>\r\n\r\n\r\n      <md-button class="md-icon-button"\r\n                 aria-label="Playlist play"\r\n                 flex="none"\r\n                 ng-click=""\r\n                 ng-disabled="!vm.playList.count()">\r\n        <md-icon class="material-icons">playlist_play</md-icon>\r\n      </md-button>\r\n\r\n    </div>\r\n\r\n  </md-toolbar>\r\n\r\n  <table ng-if="vm.playList.count()">\r\n    <thead>\r\n    <tr>\r\n      <td>Date</td>\r\n      <td>Title</td>\r\n      <td>Bookmarks</td>\r\n      <td>Tags</td>\r\n      <td>Sensor ID</td>\r\n      <td>Source</td>\r\n      <td>Length</td>\r\n      <td>Views</td>\r\n      <td></td>\r\n    </tr>\r\n    </thead>\r\n\r\n    <tbody>\r\n    <tr data-ng-repeat="video in vm.playList.list"\r\n        ng-click="vm.setActiveRow($event)"\r\n        ng-class="{ \'playing-video\': video.id == vm.videoSrv.currentVideoId }">\r\n      <td>13/12/16 13:02:14</td>\r\n      <td>{{video.name}}</td>\r\n      <td>- 00:12, "Protest start" - 04:12 "Police activity"</td>\r\n      <td>Protest, Journalism</td>\r\n      <td>1231QC</td>\r\n      <td>Quadcopter</td>\r\n      <td>00:34:16</td>\r\n      <td>12</td>\r\n      <td class="td-video-panel">\r\n        <video-panel data-video="video" favourite="false"></video-panel>\r\n      </td>\r\n    </tr>\r\n    </tbody>\r\n  </table>\r\n\r\n  <md-subheader class="md-primary" ng-if="!vm.playList.count()">\r\n    No playlist items added yet\r\n  </md-subheader>\r\n</div>\r\n'},647:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(307),i=n(r),a=t(308),o=n(a),l=t(331),s=(n(l),function(){function e(t,n){"ngInject";(0,i["default"])(this,e),this.playList=t,this.videoSrv=n}return e.$inject=["PlayListService","VideoService"],(0,o["default"])(e,[{key:"setActiveRow",value:function(e){if(e.target){var t=angular.element(e.target).parent();t.parent().find("tr").removeClass("active"),t.addClass("active")}}}]),e}());exports["default"]=s},648:function(e,exports,t){var n=t(649);"string"==typeof n&&(n=[[e.id,n,""]]);t(342)(n,{});n.locals&&(e.exports=n.locals)},649:function(e,exports,t){exports=e.exports=t(341)(),exports.push([e.id,".playList{color:red}",""])},650:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(651),i=n(r);t(652);var a={template:i["default"],restrict:"E"};exports["default"]=a},651:function(e,exports){e.exports='<!-- Place all UI elements intended to be present across all routes in this file -->\r\n<div class="app">\r\n  <div ui-view class="main-view"></div>\r\n</div>\r\n'},652:function(e,exports,t){var n=t(653);"string"==typeof n&&(n=[[e.id,n,""]]);t(342)(n,{});n.locals&&(e.exports=n.locals)},653:function(e,exports,t){exports=e.exports=t(341)(),exports.push([e.id,"body,html{position:static!important}.ml0{margin-left:0!important}body .md-open-menu-container{z-index:1001}.app,.app .main-view{height:100%}.app .sidebar-content{padding:8px}.app .md-toolbar-slim{font-size:15px;min-height:40px}.app .md-toolbar-slim .md-toolbar-tools{font-size:15px;height:40px}.app .playing-video{color:#00f}",""])}});
//# sourceMappingURL=app.bundle.js.map